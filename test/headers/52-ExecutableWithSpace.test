title: 	Executable Header
author:	Scott Bronson
date: 	21 July 2004

desc:	Ensures that we handle spaces in filenames OK.


# first we create a configuration file that specifies which command to run.

/tmp/52-ExecutableHeader.conf = <<EOL
executable: "echo=/tmp/52 ExecutableHeader echo"
EOL


# Then we create the command

cat > "/tmp/52 ExecutableHeader echo" <<EOL
#!/bin/sh
echo one $*
EOL
chmod u+x "/tmp/52 ExecutableHeader echo"


# Now, run tmtest.  If everything works, it should run the fabricated
# command in /tmp, rather than the built-in echo.

tmtest -o -f /tmp/52-ExecutableHeader.conf - <<EOL
echo potato!
------ STDOUT: exit code 0 - no error
one potato!
EOL

rm "/tmp/52 ExecutableHeader echo"

------ STDOUT: exit code 0 - no error
echo potato!
------ STDOUT: exit code 0 - no error
one potato!
